//
// Created by Ignorant on 2023/12/27.
//


#include <stdio.h>

#define ROW 50
#define COL 100

char board[ROW][COL + 1] = {0};

const char _0[17][9 + 1] = {
        "..#####.",
        ".######.",
        "##....##",
        "##....##",
        "##.....#",
        "##.....#",
        "##.....#",
        "##.....#",
        "##.....#",
        "##.....#",
        "##.....#",
        "##.....#",
        "##.....#",
        "##....##",
        "##....##",
        ".######.",
        "..####.."
};

const char _1[17][9 + 1] = {
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
        "##",
};

const char _2[17][9 + 1] = {
        "..#####..",
        ".#######.",
        "##....##.",
        ".......##",
        "......##.",
        "......##.",
        "......##.",
        ".....##..",
        "....###..",
        "...###...",
        "...##....",
        "..###....",
        ".###.....",
        ".##......",
        "###......",
        "########.",
        "########."
};

const char _3[17][9 + 1] = {
        "########",
        "########",
        ".....###",
        "....###.",
        "...###..",
        "..###...",
        "..#####.",
        "..######",
        "......##",
        "......##",
        "......##",
        "......##",
        "##....##",
        "##....##",
        "###...##",
        ".######.",
        "..####.."
};

const char _4[17][9 + 1] = {
        ".....##..",
        "....###..",
        "....###..",
        "...####..",
        "...####..",
        "...####..",
        "..#####..",
        "..##.##..",
        ".###.##..",
        ".##..##..",
        ".##..##..",
        "##...##..",
        "#########",
        "#########",
        ".....##..",
        ".....##..",
        ".....##.."
};

const char _5[17][9 + 1] = {
        "########.",
        "########.",
        "##.......",
        "##.......",
        "##.......",
        "##.......",
        "#######..",
        "########.",
        "......###",
        ".......##",
        ".......##",
        ".......##",
        ".......##",
        "##.....##",
        ".##...###",
        ".#######.",
        "..#####.."
};

const char _6[17][9 + 1] = {
        ".....#...",
        "....##...",
        "...##....",
        "..###....",
        "..##.....",
        ".##......",
        ".##......",
        ".#####...",
        "#######..",
        "###...##.",
        "##....##.",
        "##.....##",
        "##.....##",
        "##.....##",
        "###...##.",
        ".#######.",
        "..####..."
};

const char _7[17][9 + 1] = {
        "#########",
        "#########",
        ".......#.",
        "......##.",
        "......##.",
        ".....##..",
        ".....##..",
        ".....#...",
        "....##...",
        "....##...",
        "....##...",
        "...##....",
        "...##....",
        "...##....",
        "...##....",
        "...##....",
        "...##....",
};

const char _8[17][9 + 1] = {
        "..#####..",
        ".##...##.",
        "##.....#.",
        "##.....#.",
        "##.....#.",
        "##....##.",
        ".##..###.",
        "..#####..",
        ".#######.",
        "##....##.",
        "##.....##",
        "##.....##",
        "##.....##",
        "##.....##",
        "###..###.",
        ".######..",
        "...###..."
};

const char _9[17][9 + 1] = {
        ".######..",
        ".##..###.",
        "##....##.",
        "##.....##",
        "##.....##",
        "##.....##",
        "##....##.",
        ".#######.",
        "..######.",
        ".....###.",
        ".....##..",
        "....###..",
        "....##...",
        "...##....",
        "..###....",
        ".###.....",
        "........."
};

struct Number {
    const char (*p)[10]; // 数字字符 (注意这里的类型，因为每个字符是一个若干行、10 列的二维数组，这里与二维数组作函数参数时的用法一致)
    int n; // 数字字符所占的行数
    int m; // 数字字符所占的列数
};

struct Number numbers[] = {
        {_0, 17, 8},
        {_1, 17, 2},
        {_2, 17, 9},
        {_3, 17, 8},
        {_4, 17, 9},
        {_5, 17, 9},
        {_6, 17, 9},
        {_7, 17, 9},
        {_8, 17, 9},
        {_9, 17, 9},
};

// 你可以通过 (numbers[k].p)[i][j] 访问 _k[i][j]

int GetUL();

int GetRL(int u, int col);

int Check(int u, int right, int left, int k);

int GetNumber(int u, int right, int left);

int main() {
    for (int i = 0; i < ROW; i++) {
        scanf("%s", board[i]);
    }
    int u = GetUL();
    int right = COL - 1;
    int left = COL - 1;
    int isEmpty = 1;
    int result[5] = {0};
    int index = 0;
    for (int i = COL - 1; i >= 0; i--) {
        if (isEmpty && GetRL(u, i)) {
            right = i;
            isEmpty = 0;
        } else if (!isEmpty && !GetRL(u, i)) {
            left = i + 1;
            isEmpty = 1;
            int temp = GetNumber(u, right, left);
            if (temp != -1) {
                result[index++] = temp;
            }
        }
    }
    for (int i = index - 1; i >= 0; i--) {
        printf("%d ", result[i]);
    }
    return 0;
}

int GetUL() {
    for (int i = 0; i < ROW; i++) {
        for (int j = 0; j < COL; j++) {
            if (board[i][j] == '#') {
                printf("%d %d\n", i, i + 16);
                return i;
            }
        }
    }
    return -1;
}

int GetRL(int u, int col) {
    for (int i = u; i < u + 17; i++) {
        if (board[i][col] == '#') {
            return 1;
        }
    }
    return 0;
}

int Check(int u, int right, int left, int k) {
    struct Number number = numbers[k];
    for (int i = u; i < u + 17; i++) {
        for (int j = left; j <= right; j++) {
            if (board[i][j] != (number.p)[i - u][j - left]) {
                return 0;
            }
        }
    }
    return 1;
}

int GetNumber(int u, int right, int left) {
    for (int k = 0; k <= 9; k++) {
        int temp = Check(u, right, left, k);
        if (temp) {
            return k;
        }
    }
    return -1;
}

